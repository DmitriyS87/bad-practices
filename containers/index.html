---
layout: page
title: Не задавайте контейнерам ширину, равную брикпойнтам

links:
- url: "#why"
  name: "Почему? "
- url: "#how-to-see"
  name: "Как это увидеть?"
- url: "#right-way"
  name: "А как надо?"

additional_links:
- name: "Full Width Containers in Limited Width Parents"
  url: https://css-tricks.com/full-width-containers-limited-width-parents/
  source_name: "Css Tricks"
  source_url: https://css-tricks.com/
---

<dl>
  <dt id="why">Почему? <a href="#why" class="post__anchor">#</a></dt>
  <dd>
    <p>Это решение подходит для мобильных устройств, где прокрутки нет, но не годится для десктопных браузеров, где она есть и занимает место на странице.</p>
  </dd>

  <dt id="how-to-see">Как это увидеть? <a href="#how-to-see" class="post__anchor">#</a></dt>
  <dd>
    <p>Допустим, есть макет для страницы шириной 600px, контент должен занимать всю ширину. Зададим соответствующий код:</p>

{% highlight css %}@media (min-width: 600px) {
  .container {
    width: 600px;
  }
}{% endhighlight %}

    <p>И посмотрим в браузере что получилось. Начнём с мобильных:</p>

    <img src="../assets/img/containers/before-mobile.png" alt="Контейнер с фиксированной шириной на мобильных">

    <p>На мобильных всё как надо. Десктоп:</p>

    <img src="../assets/img/containers/before-desktop.png" alt="Контейнер с фиксированной шириной на десктопе">

    <p>На десктопе появилась не только вертикальная прокрутка, но и горизонтальная. Почему?</p>

    <img src="../assets/img/containers/before-body.png" alt="body содержащий контейнер с фиксированной шириной на десктопе">

    <p>Потому что вертикальная прокрутка отъела часть ширины окна, и для контента осталось меньше места.</p>

    <p>На десктопе <code>body</code> будет меньше ширины окна, поэтому на ширине окна 600px элемент той же ширины не поместится, что и вызовет появление горизонтальной прокрутки.</p>

  </dd>

  <dt id="right-way">А как надо? <a href="#right-way" class="post__anchor">#</a></dt>
  <dd>

    <p>Есть несколько вариантов решений, в зависимости от того, что требуется сделать, и&nbsp;свободного времени на это.</p>

    <dl>
      <dt>Вариант с фиксированной колонкой</dt>
      <dd>
        <p>На макете, как правило, предусмотрены поля. Можно измерить ширину контента без учёта этих полей и использовать это значение, задав колонке выравнивание по центру.</p>

        <ul class="compare">
          <li class="compare__item compare__item--bad">
            <div class="compare__title">Плохо</div>
{% highlight css %}@media (min-width: 600px) {
  .container {
    width: 600px;
  }
}{% endhighlight %}
        </li>
        <li class="compare__item compare__item--good">
          <div class="compare__title">Хорошо</div>
{% highlight css %}@media (min-width: 600px) {
  .container {
    width: 500px;
    margin: 0 auto;
  }
}{% endhighlight %}
          </li>
        </ul>

        <p>Так контейнер, который мог бы растопырить страницу, оказывается уже, чем доступное пространство, и горизонтальной прокрутки не будет.</p>

        <p>Простое и быстрое решение.</p>
      </dd>

      <dt>Вариант с резиновой колонкой</dt>
      <dd>
        <p>Чтобы на узких экранах конент не болтался узкой полосой, а занимал всю доступную ширину, можно сделать иначе: никак не ограничивать ширину контейнера (и он растянется на всю ширину <code>body</code>), но задать боковые <code>margin</code> или <code>padding</code>.</p>

        <ul class="compare">
          <li class="compare__item compare__item--bad">
            <div class="compare__title">Плохо</div>
{% highlight css %}@media (min-width: 600px) {
  .container {
    width: 600px;
  }
}{% endhighlight %}
        </li>
        <li class="compare__item compare__item--good">
          <div class="compare__title">Хорошо</div>
{% highlight css %}@media (min-width: 600px) {
  .container {
    padding: 50px;
  }
}{% endhighlight %}
          </li>
        </ul>

        <p>Контейнер без фиксированной ширины сам подгонится под доступное пространство не вызывая горизонтальную прокрутку, и будет тянуться вместе с окном браузера.</p>

        <p>Не забудьте ограничить ширину колонки на десктопе, чтобы страницу не ратстягивало на всё окно, если у пользователя широкий экран.</p>

        <p>Минус способа в том, что в этом случае также надо будет предусмотреть резиновое поведение содержимого, чтобы оно не сбивалось в кучу или не размазывалось по странице. Если на это нет времени, просто используйте способ с фиксированной колонкой.</p>
      </dd>

      <dt>Вариант с фоном на всю ширину страницы</dt>
      <dd>

        <p>Например, в макете требуется что-то такое:</p>

        <img src="../assets/img/containers/bg-fullwide-example.png" alt="Пример с фоном ширину страницы">

        <p>У шапки фон по ширине страницы, содержимое по центру.</p>

        <p>На самом деле, вариант почти ничем не отличается от предыдущих. В случае с резиновой колонкой и паддингами, можно задать фон самой колонке, потому что она и так растянута на ширину страницы. В остальных случаях снаружи контейнера нужно просто задать обёртку, которой и будет задан фон.</p>

        <p>Обёртка с фоном не будет ограничиваться по ширине и всегда будет растягиваться по ширине <code>body</code> не вызывая появление прокрутки. При этом содержимое внутри неё будет придерживаться заданной ширины в зависимости от выбранного способа.</p>
      </dd>


      <dt>Вариант с картинкой на всю ширину страницы</dt>
      <dd>

        <p>Иногда нужно, чтобы тянулась не вся колонка, а часть содержимого, например, картинка в статье:</p>

        <img src="../assets/img/containers/img-fullwide-example.png" alt="Пример с картинкой на ширину страницы">

        <p>В этом случае ширина колонки с текстом делается с помощью какого-то из предыдущих способов, но для картинки потребуется дополнительный код.</p>

        <p>Если нужно, чтобы картинка растягивалась и сжималась вместе с контентом, достаточно будет кода для картинки:</p>

{% highlight css %}.img--panorama {
  position: relative;
   /* растягиваем по ширине окна */
  width: 100vw;
  /* центрируем */
  left: 50%;
  transform: translate(-50%);
}{% endhighlight %}


        <p>Но если требуется, чтобы размеры картинки не менялись, а всё, что не поместилось по ширине, просто обрезалось, тогда картинке нужна обёртка:</p>

  {% highlight html %}<div class="panorama">
    <img class="panorama__img" src="..." alt="...">
</div>{% endhighlight %}

        <p>Теперь центрируется обёртка, и она же отвечает за выравнивание картинки по центру:</p>

{% highlight css %}.panorama {
  position: relative;
  /* растягиваем по ширине окна */
  width: 100vw;
  /* скрываем всё, что не поместилось в экран */
  overflow: hidden;
  /* центрируем обёртку */
  left: 50%;
  transform: translate(-50%);
  /* центрируем картинки */
  display: flex;
  justify-content: center;
}
.panorama__img {
  /* фиксируем ширину картинки */
  width: 982px;
  /* отключаем max-width,
     если он было задано выше */
  max-width: none;
}{% endhighlight %}

        <p>На мобильных всё будет работать как задумано, но если открыть на десктопе, обнаружится горизонтальная прокрутка:</p>

        <img src="../assets/img/containers/img-fullwide-scroll.png" alt="Пример с картинкой на ширину страницы с горизонтальной прокруткой на десктопе">

        <p>Почему?</p>

        <p>Потому что <code>100vw</code> — это не ширина <code>body</code>, а вся ширина окна вместе с прокруткой, то есть элемент такой ширины на странице не поместится, что и вызовет появление горизонтальной прокрутки.</p>

        <p>Чтобы решить эту проблему, ближайшему родителю широкой картинки, растянутому на всю ширину страницы, задайте <code>overflow: hidden</code>.</p>

        <img src="../assets/img/containers/img-fullwide-no-scroll.png" alt="Пример с картинкой на ширину страницы без горизонтальной прокрутки">

        <p>Прокрутка пропала, всё работает как надо.</p>
      </dd>
    </dl>

  </dd>
</dl>

<div class="post__conclusion">
  <h3 class="post__conclusion-title">Итого</h3>

  <p class="post__conclusion-text">Не задавайте контейнерам ширину, равную брикпойнтам, это может вызвать появление горизонтальной прокрутки в десктопных браузерах. Задавайте меньшую ширину или используйте паддинги/марджины для контейнеров с нефиксированной шириной.</p>
</div>
