---
layout: page
title: Фиксированная высота и absolute для текстовых блоков

links:
- name: "Не задавайте текстовым блокам фиксированную высоту"
  url: "#fixed-height"
- name: "Не используйте <code>absolute</code> для позиционирования текстовых блоков"
  url: "#absolute"
---

<ol>
  <li>
    <h3 id="fixed-height">Не задавайте текстовым блокам фиксированную высоту <a href="#fixed-height" class="post__anchor">#</a></h3>

    <dl>
      <dt id="fixed-height-why">Почему? <a href="#fixed-height-why" class="post__anchor">#</a></dt>
      <dd>
        <p>При увеличении количества текста он вывалится наружу и может наложиться на нижележащие элементы.</p>
      </dd>

      <dt id="fixed-height-how-to-see">Как это увидеть? <a href="#fixed-height-how-to-see" class="post__anchor">#</a></dt>
      <dd>
        <p>Можно отредактировать исходный HTML, а можно выполнить в консоли браузера такую команду:</p>

        {% highlight js %}document.body.contentEditable = true{% endhighlight %}

        <p>После этого вы сможете отредактировать любой текст на странице.</p>

        <p>Добавим текст:</p>

        <figure class="figure figure--has-figcaption">
          <img src="../assets/img/blocks-with-text/before.png">

          <figcaption>При фиксированной высоте текст не может растянуть блок и вываливается.</figcaption>
        </figure>
      </dd>

      <dt id="fixed-height-right-way">А как надо? <a href="#fixed-height-right-way" class="post__anchor">#</a></dt>
      <dd>
        <p>Используйте <code>min-height</code>:</p>

        <ul class="compare">
          <li class="compare__item compare__item--bad">
            <h4 class="compare__title">Плохо</h4>
  {% highlight css %}.container {
  height: 150px;
  padding: 10px;
}{% endhighlight %}
    </li>
    <li class="compare__item compare__item--good">
      <h4 class="compare__title">Хорошо</h4>
  {% highlight css %}.container {
  min-height: 150px;
  padding: 10px;
}{% endhighlight %}
          </li>
        </ul>

        <figure class="figure figure--has-figcaption">
          <img src="../assets/img/blocks-with-text/after.png">

          <figcaption><code>min-height</code> позволит добиться соответствия макету при вёрстке, а при добавлении контента блок просто вырастет вниз.</figcaption>
        </figure>
      </dd>
    </dl>

  </li>
  <li>
    <h3 id="absolute">Не используйте <code>absolute</code> для позиционирования текстовых блоков <a href="#absolute" class="post__anchor">#</a> </h3>

    <dl>
      <dt id="absolute-why">Почему? <a href="#absolute-why" class="post__anchor">#</a></dt>
      <dd>
        <p>При абсолютном позиционировании блок не влияет на размеры родителя. При увеличении количества текста он не сможет растянуть родительский блок и вывалится наружу.</p>
      </dd>

      <dt id="absolute-how-to-see">Как это увидеть? <a href="#absolute-how-to-see" class="post__anchor">#</a></dt>
      <dd>
        <p>Как и в предыдущем случае, можно отредактировать исходный HTML или использовать команду в консоли:</p>

        {% highlight js %}document.body.contentEditable = true{% endhighlight %}

        <p>После чего добавить текст в интересующий элемент.</p>

        <figure class="figure figure--has-figcaption">
          <img src="../assets/img/blocks-with-text/content-abs-before.png">

          <figcaption>Абсолютно спозиционированный элемент не может растянуть родительский блок.</figcaption>
        </figure>
      </dd>

      <dt id="absolute-right-way">А как надо? <a href="#absolute-right-way" class="post__anchor">#</a></dt>
      <dd>
        <p>В этом случае лучше перенести <code>position:absolute</code> на картинку и добавить <code>min-height</code>, чтобы блок не схлопывался по высоте текста (иначе может вывалиться картинка):</p>

        <ul class="compare">
          <li class="compare__item compare__item--bad">
            <h4 class="compare__title">Плохо</h4>
  {% highlight css %}.block {
  position: relative;
  display: flex;
  width: 600px;
  padding: 20px;
}
.block__content {
  position: absolute;
}
.block__img {
  margin-left: auto;
}{% endhighlight %}
        </li>
        <li class="compare__item compare__item--good">
          <h4 class="compare__title">Хорошо</h4>
{% highlight css %}.block {
  position: relative;
  width: 600px;
  min-height: 350px;
  padding: 20px;
}
.block__content {
  z-index: 1;
}
.block__img {
  position: absolute;
  top: 20px;
  right: 20px;
}{% endhighlight %}
          </li>
        </ul>

        <figure class="figure figure--has-figcaption">
          <img src="../assets/img/blocks-with-text/content-abs-after-short.png">

          <figcaption>Проверяем с коротким текстом: <code>min-height</code> не даёт блоку схлопнуться.</figcaption>
        </figure>

        <figure class="figure figure--has-figcaption">
          <img src="../assets/img/blocks-with-text/content-abs-after-long.png">

          <figcaption>Проверяем с длинным текстом: текст растягивает блок, и ничего не выпадает.</figcaption>
        </figure>

      </dd>
    </dl>
  </li>
</ol>


<div class="post__conclusion">
  <h3 id="conclusion" class="post__conclusion-title">Итого</h3>

  <ul class="post__conclusion-list">
    <li>Не задавайте текстовым блокам фиксированную высоту, лучше использовать <code>min-height</code>.</li>
    <li>По возможности, не используйте <code>absolute</code> для позиционирования текстовых блоков. Если текст должен наползать на картинку, абсолютное позиционирование лучше задать картинке.</li>
  </ul>
</div>
